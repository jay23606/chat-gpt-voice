<!-- https://jay23606.github.io/chat-gpt-voice/html/redis1.html -->

<!DOCTYPE html>
<html>
<head>
    <title>Redis Cloud Demo</title>
</head>
<body>
    <h1>Redis Cloud Demo</h1>

    <script>
        const apiKey = 'A27jzn41kloxen09sx28l3n1mdu32zoqpeqh7aiygb9aopbk9x';
        const host = 'redis-12378.c239.us-east-1-2.ec2.cloud.redislabs.com';
        const port = 12378;

        // Helper function to send Redis commands via fetch
        const sendCommand = (command, ...args) => {
            return fetch(`https://${apiKey}:${apiKey}@${host}:${port}/`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: new URLSearchParams({
                    command,
                    args: JSON.stringify(args)
                }).toString()
            })
            .then(response => response.text())
            .then(responseText => {
                const parser = new RedisParser();
                parser.execute(responseText);
                return parser.getValue();
            });
        };

        // Set data in Redis database
        sendCommand('SET', 'key', 'value')
            .then(result => console.log(result))
            .catch(error => console.error(error));

        // Get data from Redis database
        sendCommand('GET', 'key')
            .then(result => console.log(result))
            .catch(error => console.error(error));
    </script>
</body>
</html>
