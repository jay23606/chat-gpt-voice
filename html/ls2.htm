<!-- https://jay23606.github.io/chat-gpt-voice/html/ls2.htm -->

<!DOCTYPE html>
<html>
<head>
    <title>Loan Servicing Software</title>
</head>
<body>
    <h1>Loan Servicing Software</h1>

    <form id="loanForm">
        <label for="loanAmount">Loan Amount:</label>
        <input type="number" id="loanAmount" value="100000" required><br><br>

        <label for="interestRate">Interest Rate:</label>
        <input type="number" id="interestRate" value="10" step="0.01" required><br><br>

        <label for="numMonths">Number of Months:</label>
        <input type="number" id="numMonths" value="360" required><br><br>

        <label for="installmentDate">First Installment Date:</label>
        <input type="date" id="installmentDate" required><br><br>

        <label for="additionalPayment">Additional Principal Payment:</label>
        <input type="number" id="additionalPayment" value="0" required><br><br>

        <button type="submit">Submit</button>
    </form>

    <script>
        document.getElementById("loanForm").addEventListener("submit", function(event) {
            event.preventDefault();

            // Get input values
            const loanAmount = parseFloat(document.getElementById("loanAmount").value);
            const interestRate = parseFloat(document.getElementById("interestRate").value);
            const numMonths = parseInt(document.getElementById("numMonths").value);
            const firstInstallmentDate = new Date(document.getElementById("installmentDate").value);
            const additionalPayment = parseFloat(document.getElementById("additionalPayment").value);

            // Perform loan servicing calculations
            const monthlyInterestRate = interestRate / 100 / 12;
            const monthlyPayment = (loanAmount * monthlyInterestRate) / (1 - Math.pow(1 + monthlyInterestRate, -numMonths));
            let remainingBalance = loanAmount;
            let currentDate = new Date();

            // Calculate number of months elapsed since first installment date
            const monthsElapsed = (currentDate.getFullYear() - firstInstallmentDate.getFullYear()) * 12 + (currentDate.getMonth() - firstInstallmentDate.getMonth());

            // Adjust remaining balance based on elapsed months and principal payments
            for (let i = 0; i < monthsElapsed; i++) {
                const interestPayment = remainingBalance * monthlyInterestRate;
                const principalPayment = monthlyPayment - interestPayment;

                remainingBalance -= principalPayment;

                if (additionalPayment) {
                    remainingBalance -= additionalPayment;
                }
            }

            // Calculate number of months needed to pay off remaining balance
            let monthsToPayOff = 0;
            while (remainingBalance > 0) {
                const interestPayment = remainingBalance * monthlyInterestRate;
                const principalPayment = monthlyPayment - interestPayment;

                remainingBalance -= principalPayment;

                if (additionalPayment) {
                    remainingBalance -= additionalPayment;
                }

                monthsToPayOff++;
            }

            // Display results
            alert("Months to Pay Off: " + monthsToPayOff);

            // Reset form
            document.getElementById("loanForm").reset();
        });
    </script>
</body>
</html>
