<!-- https://jay23606.github.io/chat-gpt-voice/html/html2pdf2.htm -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTML to PDF Conversion</title>
<style>
p{ color: blue }
</style>
</head>
<body>

<!-- Section to be captured -->
<div class="section-to-capture" id='test'>
    <h1>Sample Section</h1>

	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample cxxxxxxxxxxxxxxxxxxxxxxxxxxx and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample contxxxxxxxxxxxfffxxxxxxxxxxd converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that wsdgsadfgdill be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that willasfgasfg be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will base captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content tzzzzzzzzhat will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will becccccccc captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will defddsbe captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
		<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	
</div>
<div class="section-to-capture" id='test2'>
    <h1>Sample Section</h1>
    <pre>This is some sample content that will be captured and converted into a PDF. This is some sample content that will be captured and converted into a PDF.</pre>
	<p>ThisissomesamplecontentthatwillbecapturedandconvertedintoaPDFThisissomesamplecontentthatwillbecapturedandconvertedintoaPDFThisissomesamplecontentthatwillbecapturedandconvertedintoaPDF</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
</div>
<div class="section-to-capture">
    <h1>Sample Section</h1>
    <pre>This is some sample content that will be captured and converted into a PDF. This is some sample content that will be captured and converted into a PDF.</pre>
	<p>ThisissomesamplecontentthatwillbecapturedandconvertedintoaPDFThisissomesamplecontentthatwillbecapturedandconvertedintoaPDFThisissomesamplecontentthatwillbecapturedandconvertedintoaPDF</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
	<p>This is some sample content that will be captured and converted into a PDF.</p>
</div>

<!-- Button to trigger PDF generation -->
<button onclick="generatePDF()">Generate PDF</button>
<script src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js"></script>
<script src="https://rawgit.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.min.js"></script>
<script>

async function generatePDF(sel = ".section-to-capture", margin = 0.25) {
    var divs = document.querySelectorAll(sel);
    var pdfs = [];
    for (const div of divs) {
        var marginWidth = div.scrollWidth + 2 * margin * 72; 
        var marginHeight = div.scrollHeight + 2 * margin * 72;

        var scaleFactor = window.innerWidth / marginWidth;

        div.style.width = marginWidth + "px";
        div.style.height = marginHeight + "px";
        div.style.transform = `scale(${scaleFactor})`;
        div.style.transformOrigin = '0 0'; 

        var pdfPromise = html2pdf().from(div).set({
            filename: 'ok.pdf',
            margin: [margin, margin], 
            html2canvas: { scrollY: 0 },
            jsPDF: { orientation: 'portrait', unit: 'in', format: 'letter', compressPDF: true }
        }).toPdf().output("blob"); 
        
        pdfs.push(pdfPromise);
    }

    pdfs = await Promise.all(pdfs);
    const mergedPdf = await mergePDFs(pdfs);
	divs.forEach((div) => {
        div.style.removeProperty("width");
        div.style.removeProperty("height");
        div.style.removeProperty("transform");
        div.style.removeProperty("transform-origin");
    });
    savePDF(mergedPdf);
}

async function mergePDFs(pdfs) {
    const mergedPdf = await PDFLib.PDFDocument.create();
    for (const pdfData of pdfs) {
        const pdf = await PDFLib.PDFDocument.load(await pdfData.arrayBuffer());
        const pages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
        pages.forEach((page) => mergedPdf.addPage(page) );
    }
    return mergedPdf;
}

function savePDF(pdf) {
    pdf.save().then((mergedPdfBytes) => {
        const blob = new Blob([mergedPdfBytes], { type: "application/pdf" });
        const url = window.URL.createObjectURL(blob);
        const link = document.createElement("a");
        link.href = url;
        link.download = "ok.pdf";
        document.body.appendChild(link);
        link.click();
        window.URL.revokeObjectURL(url);
    });
}

</script>

</body>
</html>
